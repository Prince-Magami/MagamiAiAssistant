{% extends 'base.html' %}
{% block title %}Admin Dashboard - PMAI{% endblock %}
{% block content %}
<div class="container">
  <h2>ðŸ“Š Admin Analytics</h2>
  <p><strong>Total Users:</strong> {{ total_users }}</p>
  <h3>Registered Emails:</h3>
  <ul>
    {% for email in emails %}
      <li>{{ email }}</li>
    {% endfor %}
  </ul>

  <h3>ðŸ§  Mode Usage</h3>
  <ul>
    {% for mode, count in mode_counts.items() %}
      <li>{{ mode }}: {{ count }} interactions</li>
    {% endfor %}
  </ul>

  <h3>ðŸ“‚ Recent Messages</h3>
  <div class="chatbox">
    {% for msg in messages %}
      <div class="chat-message">
        <p><strong>{{ msg.timestamp.strftime('%Y-%m-%d %H:%M') }}</strong> | <em>{{ msg.mode }}</em></p>
        <p><strong>User:</strong> {{ msg.content }}</p>
        <p><strong>PMAI:</strong> {{ msg.response }}</p>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
